1.7
	1.通信涉及的几个基础概念

		(1)通信双方事先需要约定好一致的信息表示方法和解析方法。
	
			通信过程分3步骤：
			
			1.发送方按照信息编码方式对有效信息进行编码。
	
			2.编码后的信息在传输介质上进行传输。
			
			3.接收方接收编码信息后进行解码，得到有效信息。
	
		(2)电子通信概念：同步通信和异步通信
		
			同步通信：发送方和接收方按照同一个时钟节拍工作。
				一般需要发送方给接收方发送信息同时发送时钟信号，接收方根据发送方给它的时钟信号来安排自己的节奏。适合用在通信双方信息交换频率固定，或者经常通信。
			
			异步通信：发送方和接收方没有统一的时钟节拍。
				接收方不必一直在意发送方，发送方需要发送信息时，会首先给接收方发送一个信息开始的起始信号，接收方收到起始信号后开始接收信息，直到收到发送方的结束标志。适合用在通信双方信息交换频率不固定。
			
		
		(3)电子通信概念：电平信号和差分信号
		
			1.都是用来描述通信线路传输方式，如何在通信线路上表达1和0。
		
			电平信号：传输线中有一个参考电平线(一般是GND)，然后信号线上的信号值(1和0)是由信号线电平和参考电平线电平的电压差决定。
			
			差分信号：传输线中没有参考电平线，只有信号线。 1和0靠信号线之间的电压差来表达。
	
		分析
			
			1.电平信号容易被干扰导致无法被识别，差分信号不怕被干扰。
			
			2.相同根数的通信线下，差分信号要比电平信号要快。因为差分信号抗干扰能力强，因此1个发送周期更短。
	
		(4)电子通信概念：并行接口和串行接口
	
			1.主要是考虑通信线的根数，发送方和接收方同时可以传递的信息量多少。
				(1)电平信号下：1根电平参考线+1根信号线可以传递1位二进制；1根电平参考线+2根信号线可以同时发送2位二进制(以此类推，8位9根线)。
	
				(2)差分信号下：2根线(彼此差分)可以同时发送1位二进制；如果需要发送发送8位二进制，需要16根线。
	
			分析：通常还是用串行接口，因为更省信号线，对传输线的要求更低，成本也更低。而且串行接口可以通过提高通信速度来提高总体通信性能。
	
	2.串口通信的基本概念
		
		(1)特点：异步通信、电平信号、串行
			
			1.异步：串口通信的发送方和接收方没有统一的时钟信号。
			
			2.电平信号：早期串口通信使用了电平信号传输，因为传输距离较近，速率较低，所以干扰不明显。后期出现的传输协议大多改成差分信号传输。
	
			3.串行：串口通信每次同时只能传输1个二进制位。
	
		(2)RS232电平和TTL电平
			
			1.电平信号是通过用信号线电平减去参考线电平得到的电压差来决定的。
	
				(1)RS232电平
	
					-3V~-15V表示1；+3V~+15V表示0；
	
				(2)TTL电平
					
					+5V表示1；0V表示0；
			
				分析：两种电平区别在于使用的环境和条件不同。
					
					RS232电平电压范围广，适合干扰大、距离远的情况。如：台式电脑串口插座、工业用的串口。传输距离小于15米。
					
					TTL电平电压范围小，适合距离近切干扰小的情况。如：电路板内部两个芯片之间。
	
		(3)波特率
		
			1.定义
				
				指串口通信的速率，也就是串口通信时每秒钟可以传输多少个二进制位。如：每秒钟可以传输9600个二进制位，波特率就是9600。
				
			2.串口通信的波特率不能随意设定，要在一些值中选择。
				
				原因：
					1.通信双方必须事先设定相同的波特率才能成功通信，所以波特率最好是大家熟知的，形成共识。
	
					2.常用波特率有 9600、115200。
	
		(4)起始位、数据位、奇偶校验位、停止位
			
			1.收发是以周期为单位进行的，每周期传输n个二进制位。一个周期就叫一个通信单元，通信单元由：1起始位+1数据位+奇偶校验位+停止位 组成。
	
				起始位：表示发送方要发送一个通信单元。
				
				数据位：通信单元中发送的有效信息位。
				
				奇偶校验位：用来校验数据位，以防止数据位出错。
				
				停止位：发送方用来表示本通信单元结束标志。
	
			2.起始位：是串口通信标准事先指定的，是由通信线上的电平变化来反映的。	

			3.数据位数据位：是本次通信真正要发送的有效数据，串口通信一次发送多少位有效数据是可以设定的(一般可选6、7、8、9)。通常都选8位，因为一般通过串口发送的文本信息都是ASCII码编码的，而ASCII码中一个字符刚好编码为8位。
	
			4.奇偶校验位：是用来给数据位进行奇偶校验的。将待校验的有效数据逐个相加，和为偶数就为0，奇数就为1，一定程度上防止位反转。
	
			5.停止位：与起始位类似，是串口通信标准事先指定的，也是由通信线上的电平变化来反映的。通常用1个停止位，也有1.5位、2位。
			
			总结：因为串口通信的双方是异步通信，所以双方必须事先约好通信参数，如：波特率、起始位、数据位、奇偶校验位、停止位。其中起始位定义是唯一的，所以一般不用选择。
	
	3.串口通信基本原理
	
		(1)单工通信、全双工通信、半双工通信
			
			单工通信：单方向通信。A->B
			全双工通信：双方同时收发。A<->B
			半双工通信：同时只能单方向，但方向可以改变。A->B,A<-B.
		
		(2)三根通信线：Rx Tx GND
			
			1.任何通信都要有信息传输载体，有线或者无线。
			
			2.串口通信时有线通信，是通过串口线来通信的。
			
			3.串口通信线最少需要2根(GND和信号线)，可以实现单工通信。也可以通过3根通信线(Rx Tx GND)，实现全双工。
	
			4.一般开发板都会引出SoC上串口引脚直接输出TLL电平的串口(插针式插座，X210没有)。每个串口引出的都有3个线(Rx Tx GND),可以用这些插座直接连接外部的TTL电平的串口设备。
	
		(3)收发双方事先规定好通信参数(波特率、数据位、奇偶校验位、停止位)
			
			1.串口通信属于基层基本性的通信规约，自己本事不回去协商通信参数，需要通信前通信双方事先约定好通信参数(一般以上4个最重要)。
		
			2.任何一个关键参数设置错误都会导致通信失败。	
	
		(4)信息以二进制流的方式在通信线上传输。
			
			1.发送方每隔一段时间(1/波特率秒)将有效信息(1或0)放到通信线上，逐个二进制位进行发送。
	
			2.接收方通过读取通信线上的电平高低来区分是1还是0。按相同间隔时间(1/波特率秒)读取。依次读取数据位、奇偶校验位、停止位，这一个通信单元(帧)结束。
	
			3.每个通信单元之间是不定长短的非通信时间(异步通信)。
		
			分析：通过串口不管发数字、文本或是命令等等，都要先对发送内容进行编码，编码成二进制再进行逐个位的发送。串口发送一般都是ASCII码编码后的字符，所以一般设置数据位都是8，刚好一帧一个字符。
	
		(5)DB9接口
			
			1.DB9接口是串口通信早期比较常用的一种规范化接口。
				
			2.DB9接口中有9根通信线，其中3根很重要，分别是GND、Tx、Rx。剩下6根都是和流控有关的。现代我们使用串口都是用来做调试一般都禁用流控，所以这6根没用。
	
		
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	