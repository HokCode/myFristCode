1.5
	4.S5PV210串行通信接口详解1
		
		(1)部分术语
			
			1. UART(UNIVERSAL ASYNCHRONOUS RECEIVER AND TRANSMITTER)
			
			2.Peripheral BUS(外设总线)，APB的PB含义。
		
		(2)S5PV210的串口控制器工作原理框图
			
			1.整个串口控制器包含transmitter和receiver两部分。两部分功能彼此独立,transmitter负责210向外部发送信息，receiver负责从外部接收信息到210内部。
			
			2.整个串口控制器是接在APB总线上的。计算串口控制器的源时钟时是以APB总线来计算的。
			
			3.transmitter由发送缓冲区和发送移位器(Transmit Shifter)构成。发送信息时，首先将信息进行编码成二进制流，然后将一帧数据写入发送缓冲区。发送移位器会自动从发送缓冲区中读取一帧数据，然后自动移位(将一帧数据的各个位分别拿出来)将其发送到Tx通信线上。
			
			4.receiver由接收缓冲区和接收移位器构成。当有人通过串口线向210发送信息时，信息通过Rx通信线进入接收移位器，然后接收移位器自动移位将该二进制位保存入接收缓冲区。接收完一帧数据后，receiver会产生中断给CPU，CPU就会来读取这帧数据。
			
			总结：
				(1)发送移位器和接收移位器都是自动的，发送缓冲区和接收缓冲区才是关键。所以写串口的代码都是首先初始化串口控制器(包括transmitter和receiver)。
			
				(2)要发送信息时直接写入发送缓冲区，要接收信息时直接去接收缓冲区读取。软件工程师堆串口操作的接口就是发送/接收缓冲区(寄存器)。
			
				(3)初始化串口控制器实质就是读写对应的寄存器。
			
			5.波特率发生器(Buad-rate Generator)
				
				(1)产生串口发送/接收的节拍时钟。
			
				(2)波特率发生器其实就是一个时钟分频器，它的工作需要源时钟(APB总线提供)。内部将源时钟进行分频(软件设置寄存器来配置)得到目标时钟，然后再用这个目标时钟产生波特率(硬件自动产生)。
			
		(3)自动流控(AFC,Auto flow control)	
			
			1.用于发送方速率比接收方快的时候，让串口通信更可靠，不会漏掉东西。 
			
			2.现在计算机之间有更好更高级通信方式(usb、internet)，串口的用途更多只是SoC用来输出调试信息。所以没必要使用流控了。
		
	5.S5PV210串行通信接口详解2
		
		典型的串口设计，发送/接收缓冲区只有1个字节，每次发送/接收只能处理1帧数据。这样适合低端单片机。
		
		(1)FIFO模式及其作用
			
			1.在复杂SoC中(一般有操作系统)，以上方式就会导致效率低下，因为CPU需要不断切换上下文(进程切换)。
			2.扩展串口控制器的发送/缓冲区。如：将发送/接收缓冲区设置为64字节，CPU一次直接给发送缓冲区64字节的待发送缓冲区，transmitter发完再找CPU。但是串口控制器本来的发送/缓冲区是固定1字节长度的，所以做了变相扩展，FIFO。
			
			3.FIFO(first in first out),先进先出。fifo其实是一种数据结构，以上吧扩展后的缓冲区叫fifo，因为其工作方式类似于fifo。是一种轻量级的解决方案。
			
		(2)DMA模式及其作用
			
			1.DMA(direct memory access)，直接内存访问。就是在交换数据时不需要CPU参与，模块可以自己完成。
			
			2.适合大量数据迸发式的发送/接收。
			
		(3)IrDA模式及其用法
			
			1.其实就是红外(infrared)，红外线通信(电视机、空调遥控器)。
			
			2.红外通信的原理是发送方固定间隔时间向接收方发送/不发送红外信号，来表示1或0(0或1)。接收方每隔固定时间去判断有误红外线信号。与串口通信(电平)相似。
			
			3.210利用串口通信来实现了红外发送和接收，里面的某个串口支持IrDA模式，只要向串口写数据，这些数据就会以红外光的方式向外发送(需要外部硬件支持)。接收方接收这些红外数据即可解码得到发送的信息。
			
	6.S5PV210串行通信接口详解3
		
		1.串口通信与中断的关系
			
			(1)串口通信分为发送/接收2部分。
			
				1.发送方一般不需要(也可以使用)中断即可完成发送，接收方一般来说必须使用中断来接收。
				2.发送方使用中断时：发送方先设置好中断并绑定一个中断处理程序，然后发送方给一帧数据给transmitter，然后CPU离开，等transmitter发送完成后会产生一个TXD中断，并执行中断处理程序让CPU切换回来继续给transmitter放一帧数据，CPU切换离开。
				3.发送方不使用中断时：发送方事先禁止TXD中断，发送方CPU会等发送方发完所有数据才切换离开。CPU通过状态寄存器来判断发送方是否发完所有数据。
				
					状态寄存器中有一个位叫发送缓冲区空标志位，transmitter发送完成(发送缓冲区空了)就会给这个标志位置位，CPU就是通过不断查询这个标志位来判断是否已经完成。
				
				注：接收方使用/不使用中断原理与发送方类似，不使用时CPU通过接收缓冲区空标志位判断是否接收完成。
			
			(2)串口通信是异步的，就是说发送方占主导权。这个差异导致发送方可以不用中断，接收方不得不使用中断模式。
			
		2.210串行通信接口的时钟设计
			(1)因为串口通信需要一个固定的波特率，所以transmitter和receiver都需要一个时钟信号。
			(2)源时钟信号是外部APB总线(PCLK_PSYS)提供给串口模块的(串口是挂在APB总线上的)，然后进到串口控制器内部后给波特率发生器(分频器)，从而得到一个低频时钟。
			
			(3)串口通信中时钟设置主要是看寄存器设置。寄存器源设置，串口选择源时钟，一般选择为PCLK_PSYS，也可以是SCLK_UART。
			
			(4)波特率发生器有2个重要寄存器：UBRDIVn和UDIVSLOTn。其中UBRDIVn是主要设置波特率的寄存器。UDIVSLOTn是用来辅助设置的，目的是为了校准波特率。
			
		