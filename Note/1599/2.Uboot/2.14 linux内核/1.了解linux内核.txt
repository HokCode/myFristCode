1. 内核概念
	
	(1)操作系统定义
		1.本质上是一个程序，由很多源文件构成。需要编译链接成操作系统程序(zmlinz、zImage)。

		2.操作系统的主要作用是管理计算机硬件，给应用程序一个运行环境。

	(2)操作系统核心功能
		
		1.内存管理。有操作系统管控内存，程序不会出现逻辑错误。应用程序需要使用内存时，需要向操作系统申请和注册。

		2.进程调度。操作系统下支持多个应用程序同时进行。操作系统的进程调度模块负责在各进程之间进行切换。
		
		3.硬件设备管理。操作系统本身回去控制各个硬件，应用程序不需考虑硬件的具体细节。操作系统的硬件设备管理模块就是驱动模块。
		
		4.文件系统。文件系统是管理存储设备的一种方式。存储设备是由多个扇区组成的，每个扇区有512/1024/2048/4096字节。存储设备要以扇区为单位进行读写。程序员只需关注文件系统的目录和文件名，不需知道文件在磁盘的哪个扇区。
		
	(3)操作系统扩展功能(不是必须)
		
		1.协议栈(tcp、ip协议)

		2.有用的应用程序包(ping、dir、cd)。应用程序本身不属于操作系统内核的一部分，它是供人使用的，面向某种功能。

	(4)内核和发行版的区别
		
		区别：
		内核：内核是操作系统内核的简称，负责操作系统的核心功能(资源管理模块)，但它不包括应用程序。
		
		发行版：内核和一些常用的应用程序打包在一起，就是发行版(普通意义上的操作系统)。

		1.内核只有一个主版本(www.kernel.com)。

		2.发行版有很多，如，ubuntu、redhat等等。它们内核一样，配置的应用程序不一样。

2.内核和驱动的关联
	
	(1)整体认识
		APP(应用层)通过专用的API接口来使用操作系统(操作系统层)；操作系统通过驱动操控硬件(硬件层)。

	(2)驱动属于内核的一部分
		
		1.驱动属于操作系统的中下层，是内核中的硬件设备管理模块。
		
 		2.驱动工作在内核态。如果当前CPU运行的是内核代码，这时CPU属于内核态。在内核态情况下，CPU可以任意访问任何内存。如果当前CPU运行的是应用程序的代码，这时CPU属于用户态，访问有限制。

		3.驱动程序出现故障，可能会导致整个内核崩溃。所以开发时要进行严格的测试。
		
		4.驱动程序漏洞会使内核不安全。理论上，有多少个设备就有多少个驱动。

3.内核和应用程序、根文件系统的关联
	
	(1)应用程序和内核的关系

		1.应用程序不属于内核，而是在内核之上。
		
		2.应用程序工作在用户态，访问内存时受限制。

		3.应用程序的故障不会导致内核崩溃。

		4.应用程序通过内核定义的API接口来调用内核工作。
		
			a.API是操作系统内核定义的一套被调用的标准，提高安全性。

		总结：		
		5.应用程序是运行时最终目标。
		6.内核为应用程序提供底层资源管理的服务。

	(2)根文件系统和内核的关系
		
		1.根文件系统提供根目录。linux系统需要根目录，通过根目录找到其他目录。

		2.进程1存放在根文件系统中。进程1是内核态到用户态的交接。

		3.内核启动最后会装载(挂载)根文件系统。

		总结：根文件系统未操作系统启动提供了：根目录、进程1。

4.linux内核的模块化设计
	
	(1)模块化设计

		1.因为linux内核很庞大，代码量太大、非常复杂。所以需要模块化设计。
		
		2.模块化设计时指内核中各个功能模块在代码上是彼此独立的。如：调度系统和内存管理系统之间没有全局变量的互相引用，函数互相调用也要遵循一个接口规范。

		3.模块化设计是为了实现功能模块的松耦合。
	
	(2)模块化设计的体现
	
		1.模块化程度高，配置时可裁剪(单片机->超级计算机)。配置时可以选择组成的模块，选择后还可对选择的模块进行更细节的配置。

		2.模块化编译和安装。为了用户方便，现在已逐渐从静态升级变成了动态升级，即安装驱动或应用程序后不需重启系统或重新烧录系统。

		3.源码中使用条件编译。

	(3)模块化设计的好处
		
		1.功能可裁剪、灵活性高、提高效率。
		
		2.可扩展性(动态安装卸载、新硬件支持(添加新驱动即可))。

		3.有利于程序员之间协作完成同一个项目。

	(4)模块化设计是一种普遍性的系统设计原则

5.了解合适版本的内核
	
	(1)linux内核版本变迁
	
		linux0.01		第一代linux版本。
		linux0.11		解析linux内核源代码的原本。		
		linux2.4		比较接近现代的版本。

		linux2.6早期	与linux2.4晚期内核较相似。
		linux2.6晚期	与前面的版本有一些不同，如：驱动相关部分和一些头文件设置。

		linux3.x 4.x	比较新的内核。

	(2)选择合适的内核版本
		
		1.并不是越新版本的内核越好。
		
		2.选择对应SoC厂家移植的版本会减少很多工作量。

	(3)S5PC210适用的内核版本
		
		1.linux2.6.35.7+android2.3/QT4.8.3

		2.linux3.0.8+android4.0


